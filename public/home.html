

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSE341 | Project Two | Alt Finder</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="main.css">
    <script>
        function grab_info(){
      console.log('checkout run');
      $.ajax({
        url: '/info',
        type: 'GET',
        dataType: 'json', //will parse json into javascript object
        //callback called when suceed
        success: (data) => {
          console.log('ajax success!', data);
            player ="";

          $.each(data, function (index, value) {
            player += "<h2>";
            player += this.player_name;
            player += ", ";
            player += this.realm;
            player += ", ";
            player += this.race;
            player += ", ";
            player += this.class_type;
            player += ", ";
            player += this.faction;
            player += ", ";
            player += this.first_prof;
            player += ", ";
            player += this.second_prof;
            player += "</h2>";
          });// END LOOP
          $('#results').html(player)
        }//sucess data call
      });//ajax function call
      //CART CLICK AJAX END
    }

    </script>

<script>
  function grab_prof(){
console.log('checkout run');
  data={};
   const name= $("#professions").attr("name"); 
   const value= $("#professions").val();
   data[name]=value;
  

$.ajax({
  url: '/info',
  type: 'GET',
  dataType: 'json', //will parse json into javascript object
  //callback called when suceed
  data:data,
  success: (data) => {
    console.log('ajax success!', data);
      player ="";

    $.each(data, function (index, value) {
      player += "<h2>";
      player += this.player_name;
      player += ", ";
      player += this.realm;
      player += ", ";
      player += this.race;
      player += ", ";
      player += this.class_type;
      player += ", ";
      player += this.faction;
      player += ", ";
      player += this.first_prof;
      player += ", ";
      player += this.second_prof;
      player += "</h2>";
    });
    $('#results').html(player)
  }
});
}

</script>
</head>
<body>
    <form action="" method="post">
        <h1>Please choose the information you want to see.</h1>
        <div class="checkbox">
          <label><input type="checkbox" value="player_name">Player Name</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" value="realm">Realm</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" value="race">Race</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" value="class_type">Class Type</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" value="faction">Faction</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" value="first_prof">First Professions</label>
        </div>
        <div class="checkbox">
          <label><input type="checkbox" value="second_prof">Second Professions</label>
        </div>

          <!-- <label for="professions">Choose a Profession:</label>

          <select name="professions" id="professions">
            <option value="none">-</option>
            <option value="herbalism">Herbalism</option>
            <option value="mining">Mining</option>
            <option value="skinning">Skinning</option>
            <option value="alchemy">Alchemy</option>
            <option value="blacksmithing">Blacksmithing</option>
            <option value="enchanting">Enchanting</option>
            <option value="engineering">Engineering</option>
            <option value="inscription">Inscription</option>
            <option value="jewelcrafting">Jewelcrafting</option>
            <option value="leatherworking">Leatherworking</option>
            <option value="tailoring">Tailoring</option>
          </select> -->

          <input type="button" value="results" class="getBtn" onclick="grab_info()">
      </form>
      <form>
        <label for="professions">Choose a Profession:</label>

        <select name="prof" id="professions">
          <option value="none">-</option>
          <option value="herbalism">Herbalism</option>
          <option value="mining">Mining</option>
          <option value="skinning">Skinning</option>
          <option value="alchemy">Alchemy</option>
          <option value="blacksmithing">Blacksmithing</option>
          <option value="enchanting">Enchanting</option>
          <option value="engineering">Engineering</option>
          <option value="inscription">Inscription</option>
          <option value="jewelcrafting">Jewelcrafting</option>
          <option value="leatherworking">Leatherworking</option>
          <option value="tailoring">Tailoring</option>
        </select>

        <input type="button" value="results" class="getBtn" onchange="grab_prof()">

      </form>
    
      <div id="results"></div>
</body>
</html>